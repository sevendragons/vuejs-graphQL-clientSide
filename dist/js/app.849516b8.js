(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],d=0,f=[];d<i.length;d++)o=i[d],r[o]&&f.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("1356"),r=s.n(a);r.a},1356:function(t,e,s){},"1b5b":function(t,e,s){"use strict";var a=s("1d84"),r=s.n(a);r.a},"1d84":function(t,e,s){},"2b10":function(t,e,s){},"3c0d":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0da","./cs.js":"3c0da","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return s(e)}function n(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="4678"},"4a87":function(t,e,s){"use strict";var a=s("2b10"),r=s.n(a);r.a},"507d":function(t,e,s){"use strict";var a=s("3c0d"),r=s.n(a);r.a},"52c0":function(t,e,s){"use strict";var a=s("fa99"),r=s.n(a);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("7f7f");var a=s("5d73"),r=s.n(a),n=(s("cadf"),s("551c"),s("f751"),s("097d"),s("2b0e")),o=s("bb71");s("da64");n["a"].use(o["a"],{iconfont:"md",theme:{primary:"#3f51b5",primary2:"#d62d25",primary3:"#042284",secondary:"#f59bba",secondary2:"#e91e63",accent:"#09AE8E",error:"#f44336",warning:"#ff5722",info:"#2196f3",info2:"#91cbf9",success:"#4caf50",success2:"#0bf2f1"}});var i=s("23ee"),l=s("522d"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-navigation-drawer",{attrs:{app:"",temporary:"",fixed:""},model:{value:t.sideNav,callback:function(e){t.sideNav=e},expression:"sideNav"}},[s("v-toolbar",{attrs:{dark:"",flat:"",color:"secondary2"}},[s("v-toolbar-side-icon",{on:{click:t.toogleSideNav}}),s("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[s("h1",{staticClass:"title pl-3"},[t._v("VueShare")])])],1),s("v-divider"),s("v-list",[t._l(t.sideItems,function(e){return s("v-list-tile",{key:e.title,attrs:{to:e.link}},[s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1),s("v-list-tile-content",[t._v("\n          "+t._s(e.title)+"\n        ")])],1)}),t.user?s("v-list-tile",{on:{click:t.handleSignOut}},[s("v-list-tile-action",[s("v-icon",[t._v("exit_to_app")])],1),s("v-list-tile-content",[t._v("Sign Out ☝️")])],1):t._e()],2)],1),s("v-toolbar",{attrs:{fixed:"",color:"primary",dark:""}},[s("v-toolbar-side-icon",{on:{click:t.toogleSideNav}}),s("v-toolbar-title",{staticClass:"hiden-xs-only"},[s("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t._v("\n        VueShare\n      ")])],1),s("v-spacer"),s("v-text-field",{attrs:{flex:"","prepend-icon":"search",placeholder:"Search posts",color:"success2","single-line":"","hide-details":""},on:{input:t.handleSearchPosts},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),t.searchResults.length?s("v-card",{attrs:{dark:"",id:"search__card"}},[s("v-list",{attrs:{color:"primary3"}},t._l(t.searchResults,function(e){return s("v-list-tile",{key:e._id,on:{click:function(s){return t.goToSearchResult(e._id)}}},[s("v-list-tile-title",[s("strong",{staticClass:"sTitle",staticStyle:{color:"#91cbf9"}},[t._v("Title")]),t._v(": "+t._s(e.title)+"  "),s("span",{staticStyle:{"padding-left":"12px"}},[t._v("🛰  🚀")]),s("span",{staticClass:"sDesc font-weight-thin"},[s("strong",{staticStyle:{color:"#91cbf9"}},[t._v("Description:")]),t._v(" "+t._s(t.formatDescription(e.description)))])]),t.checkIfUserFavorite(e._id)?s("v-list-tile-action",[s("v-icon",{staticClass:"animated pulse infinite delay-2s",attrs:{color:"warning"}},[t._v("favorite")])],1):t._e(),s("v-list-tile-action",[s("v-btn",{attrs:{icon:"",ripple:""},on:{click:t.clearSearch}},[s("v-icon",{staticClass:"clearSearch",attrs:{color:"success2 lighten-1",absolute:""}},[t._v("cancel")])],1)],1)],1)}),1)],1):t._e(),s("v-spacer"),s("v-toolbar-items",{staticClass:"hidden-xs-only"},[t._l(t.horizontalItems,function(e){return s("v-btn",{key:e.title,attrs:{flat:"",to:e.link}},[s("v-icon",{staticClass:"hidden-sm-only",attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),t.user?s("v-btn",{attrs:{flat:"",to:"/profile"}},[s("v-icon",{staticClass:"hidden-sm-only",attrs:{left:""}},[t._v("account-box")]),s("v-badge",{class:{"bounce animated":t.badgeAnimated},attrs:{right:"",color:"warning darken-2"}},[t.userFavorites.length?s("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.userFavorites.length))]):t._e(),t._v("\n          Profile\n        ")])],1):t._e(),t.user?s("v-btn",{attrs:{flat:""},on:{click:t.handleSignOut}},[s("v-icon",{staticClass:"hidden-sm-only",attrs:{left:""}},[t._v("exit_to_app")]),t._v("\n        SignOut 👈\n      ")],1):t._e()],2)],1),s("main",{staticClass:"post"},[s("v-container",{staticClass:"mt-4"},[s("transition",{attrs:{name:"fade"}},[s("router-view")],1),t.authError?s("v-snackbar",{staticStyle:{height:"auto"},attrs:{color:"error",bottom:"",left:"",timeout:5e3},model:{value:t.authErrorSnackbar,callback:function(e){t.authErrorSnackbar=e},expression:"authErrorSnackbar"}},[s("v-icon",{staticClass:"mr-3",staticStyle:{cursor:"pointer"}},[t._v("cancel")]),s("h3",[t._v(t._s(t.authError.message))]),s("v-btn",{attrs:{dark:"",flat:"",to:"/signIn"}},[t._v("Sign In 🖖")])],1):t._e(),s("v-snackbar",{attrs:{color:"success",bottom:"",left:"",timeout:7e3},model:{value:t.authSnackbar,callback:function(e){t.authSnackbar=e},expression:"authSnackbar"}},[s("v-icon",{staticClass:"mr-3",staticStyle:{cursor:"pointer"}},[t._v("check_circle")]),s("h3",[t._v("You are now Signed In! 🤙")]),s("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.authSnackbar=!1}}},[t._v("Close 👊")])],1)],1)],1)],1)},u=[],d=s("cebc"),f=s("2f62"),v={name:"App",data:function(){return{sideNav:!1,authSnackbar:!1,authErrorSnackbar:!1,badgeAnimated:!1,searchTerm:""}},watch:{user:function(t,e){console.log("new value",t),console.log("old value",e),null===e&&(this.authSnackbar=!0)},authError:function(t){null!==t&&(this.authErrorSnackbar=!0)},userFavorites:function(t){var e=this;t&&(this.badgeAnimated=!0,setTimeout(function(){return e.badgeAnimated=!1},1e3))}},computed:Object(d["a"])({},Object(f["b"])(["error","user","authError","userFavorites","searchResults"]),{horizontalItems:function(){var t=[{icon:"chat",title:"Posts",link:"/posts"},{icon:"lock_open",title:"Sign In",link:"/signIn"},{icon:"create",title:"Sign Up",link:"/signUp"}];return this.user&&(t=[{icon:"chat",title:"Posts",link:"/posts"}]),t},sideItems:function(){var t=[{icon:"chat",title:"Posts",link:"/posts"},{icon:"lock_open",title:"Sign In",link:"/signIn"},{icon:"create",title:"Sign Up",link:"/signUp"}];return this.user&&(t=[{icon:"chat",title:"Posts",link:"/posts"},{icon:"stars",title:"Create Posts",link:"/post/addPost"},{icon:"account_box",title:"Profile",link:"/profile"}]),t}}),methods:{toogleSideNav:function(){this.sideNav=!this.sideNav},handleSignOut:function(){this.$store.dispatch("signoutUser")},handleSearchPosts:function(){this.$store.dispatch("searchPosts",{searchTerm:this.searchTerm})},checkIfUserFavorite:function(t){return this.userFavorites&&this.userFavorites.some(function(e){return e._id===t})},formatDescription:function(t){return t.length>30?"".concat(t.slice(0,30),"..."):t},goToSearchResult:function(t){this.searchTerm="",this.$router.push("/posts/".concat(t)),this.$store.commit("clearSearchResults")},clearSearch:function(){this.searchTerm=null,this.$store.commit("clearSearchResults")}},components:{}},m=v,h=(s("034f"),s("4a87"),s("2877")),p=s("6544"),g=s.n(p),b=s("7496"),y=s("4ca6"),_=s("8336"),x=s("b0af"),w=s("a523"),j=s("ce7e6"),k=s("132d"),P=s("8860"),S=s("ba95"),V=s("40fe"),I=s("5d23"),U=s("f774"),C=s("2db4"),$=s("9910"),O=s("2677"),T=s("71d9"),q=s("2a7f"),D=s("706c"),F=Object(h["a"])(m,c,u,!1,null,"51af5a3e",null),L=F.exports;g()(F,{VApp:b["a"],VBadge:y["a"],VBtn:_["a"],VCard:x["a"],VContainer:w["a"],VDivider:j["a"],VIcon:k["a"],VList:P["a"],VListTile:S["a"],VListTileAction:V["a"],VListTileContent:I["a"],VListTileTitle:I["c"],VNavigationDrawer:U["a"],VSnackbar:C["a"],VSpacer:$["a"],VTextField:O["a"],VToolbar:T["a"],VToolbarItems:q["a"],VToolbarSideIcon:D["a"],VToolbarTitle:q["b"]});var R=s("8c4f"),E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"home",attrs:{"text-xs-center":""}},[s("v-layout",{attrs:{row:""}},[s("v-dialog",{attrs:{persistent:"",fullscreen:""},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[s("v-progress-circular",{attrs:{indeterminate:"",size:70,width:7,color:"secondary2"}})],1)],1)],1)],1),s("h2",{staticStyle:{color:"white"}},[t._v("Home Page")]),s("v-flex",{attrs:{xs12:""}},[!t.loading&&t.posts.length>0?s("v-carousel",t._b({attrs:{interval:"3000"}},"v-carousel",{cycyle:!0},!1),t._l(t.posts,function(e){return s("v-carousel-item",{key:e._id,attrs:{src:e.imageUrl},nativeOn:{click:function(s){return t.goToPost(e._id)}}},[s("h1",{staticClass:"caro-title"},[t._v(t._s(e.title))])])}),1):t._e()],1)],1)},z=[],A={name:"home",data:function(){return{}},created:function(){this.handleGetCarouselPosts()},computed:Object(d["a"])({},Object(f["b"])(["loading","posts"])),methods:{handleGetCarouselPosts:function(){this.$store.dispatch("getPosts")},goToPost:function(t){this.$router.push("/posts/".concat(t))}}},M=A,B=(s("8b71"),s("b0d0"),s("5e66")),N=s("3e35"),Q=s("169a"),G=s("0e8f"),J=s("a722"),Y=s("490a"),W=Object(h["a"])(M,E,z,!1,null,"42ed64cd",null),Z=W.exports;g()(W,{VCarousel:B["a"],VCarouselItem:N["a"],VContainer:w["a"],VDialog:Q["a"],VFlex:G["a"],VLayout:J["a"],VProgressCircular:Y["a"]});var H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-xl":""}},[t.infiniteScrollPosts?s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.infiniteScrollPosts.posts,function(e){return s("v-flex",{key:e._id,attrs:{xs12:"",sm6:""}},[s("v-card",{attrs:{hover:""}},[s("v-img",{attrs:{src:e.imageUrl,height:"39vh",lazy:""},nativeOn:{click:function(s){return t.goToPost(e._id)}}}),s("v-card-actions",[s("v-card-title",{attrs:{primary:""},on:{click:function(s){return t.goToPost(e._id)}}},[s("div",[s("div",{staticClass:"headline"},[t._v(t._s(e.title))]),s("div",[s("span",{staticClass:"grey--text"},[t._v(t._s(e.likes)+" likes - "+t._s(e.messages.length)+" comments")]),s("v-icon",{staticStyle:{margin:"0 6px -4px 16px"},attrs:{color:"black"}},[t._v("more")]),s("span",[t._v("Detail")])],1)])]),s("v-spacer"),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.showPostCreator=!t.showPostCreator}}},[s("v-icon",[t._v(t._s("keyboard_arrow_"+(t.showPostCreator?"up":"down")))])],1)],1),s("v-slide-y-transition",[s("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.showPostCreator,expression:"showPostCreator"}],staticClass:"grey lighten-4"},[s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-avatar",[s("img",{attrs:{src:e.createdBy.avatar,alt:""}})]),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"text--primary"},[t._v(t._s(e.createdBy.username))]),s("v-list-tile-sub-title",{staticClass:"font-weight-thin"},[t._v("Added ⏰: "+t._s(t.formatCreatedDate(e.createdDate)))])],1),s("v-list-tile-action",[s("v-btn",{attrs:{icon:"",ripple:""}},[s("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("info")])],1)],1)],1)],1)],1)],1)],1)}),1):t._e(),t.showMoreEnabled?s("v-layout",{attrs:{column:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-layout",{attrs:{"justify-center":"",row:""}},[s("v-btn",{attrs:{dark:"",color:"secondary2"},on:{click:t.showMorePosts}},[t._v("Fetch More 😉")])],1)],1)],1):t._e(),s("router-link",{attrs:{to:"post/addPost"}},[s("v-btn",{staticClass:"addPost",attrs:{fab:"",dark:"",color:"indigo"}},[s("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1)],1)},K=[],X=s("75fc"),tt=s("c1df"),et=s.n(tt),st=s("aede");function at(){var t=Object(st["a"])(["\n  mutation($username: String!, $email: String!, $password: String!) {\n    signupUser( username: $username,\n                email: $email,\n                password: $password\n    ) { \n      token\n    }\n  }"]);return at=function(){return t},t}function rt(){var t=Object(st["a"])(["\n  mutation($email: String!, $password: String!) {\n    signinUser(email: $email, password: $password) {\n     token \n    }\n  }\n"]);return rt=function(){return t},t}function nt(){var t=Object(st["a"])(["\n  mutation($messageBody: String!, $userId: ID!, $postId: ID!) {\n    addPostMessage(\n      messageBody: $messageBody, \n      userId: $userId, \n      postId: $postId\n    ) {\n      _id\n      messageBody\n      messageDate\n      messageUser{\n        _id\n        username\n        avatar\n      }\n    }\n  }\n"]);return nt=function(){return t},t}function ot(){var t=Object(st["a"])(["\n  mutation($messageId: ID!) {\n    deleteMessagePost(messageId: $messageId) {\n      _id\n    }\n  }\n"]);return ot=function(){return t},t}function it(){var t=Object(st["a"])(["\n  mutation($postId: ID!) {\n    deleteUserPost(postId: $postId) {\n      _id\n    }\n  }\n"]);return it=function(){return t},t}function lt(){var t=Object(st["a"])(["\n  mutation(\n    $postId: ID!\n    $userId: ID!\n    $title: String!\n    $imageUrl: String!\n    $categories: [String]!\n    $description: String!\n  ) {\n    updateUserPost(\n      postId: $postId\n      userId: $userId\n      title: $title\n      imageUrl: $imageUrl\n      categories: $categories\n      description: $description\n    ) {\n      _id\n      title\n      imageUrl\n      description\n      categories\n      createdDate\n      likes\n      createdBy{\n        _id\n        avatar\n      }\n    }\n  }\n"]);return lt=function(){return t},t}function ct(){var t=Object(st["a"])(["\n  mutation($postId: ID!, $username: String!) {\n    unlikePost(postId: $postId, username: $username) {\n      likes\n      favorites{\n         _id\n         title\n         imageUrl\n      }\n    }\n  }\n"]);return ct=function(){return t},t}function ut(){var t=Object(st["a"])(["\n  mutation($postId: ID!, $username: String!) {\n    likePost(postId: $postId, username: $username) {\n      likes\n      favorites{\n        _id\n        title\n        imageUrl\n      }\n    }\n }\n"]);return ut=function(){return t},t}function dt(){var t=Object(st["a"])(["\n  mutation(\n    $title: String!\n    $imageUrl: String!\n    $categories: [String]!\n    $description: String!\n    $creatorId: ID!\n  ) {\n    addPost(\n      title: $title,\n      imageUrl: $imageUrl,\n      categories: $categories,\n      description: $description,\n      creatorId: $creatorId\n    ) {\n      _id\n      title\n      imageUrl\n      categories\n      description\n    }\n  }\n"]);return dt=function(){return t},t}function ft(){var t=Object(st["a"])(["\n  query($searchTerm: String) {\n    searchPosts(searchTerm: $searchTerm){\n      _id\n      title\n      description\n      imageUrl\n      likes\n    }\n  }\n"]);return ft=function(){return t},t}function vt(){var t=Object(st["a"])(["\n  query($pageNum: Int!, $pageSize: Int!){\n    infiniteScrollPosts( pageNum: $pageNum, pageSize: $pageSize ) {\n      hasMore\n      posts {\n        _id\n        title\n        imageUrl\n        categories\n        description\n        likes\n        createdDate\n        messages{\n          _id\n        }\n        createdBy{\n          _id\n          username\n          avatar\n        }\n      }\n\n    }\n  } \n"]);return vt=function(){return t},t}function mt(){var t=Object(st["a"])(["\n  query($userId: ID!) {\n    getUserPosts(userId: $userId) {\n      _id\n      title\n      imageUrl\n      description\n      categories\n      createdDate\n      likes\n    }\n  }  \n"]);return mt=function(){return t},t}function ht(){var t=Object(st["a"])(["\n  query{\n    getCurrentUser {\n      _id\n      username\n      email\n      password\n      avatar\n      joinDate\n      favorites{\n        _id\n        title\n        imageUrl\n      }\n    }\n  }\n"]);return ht=function(){return t},t}function pt(){var t=Object(st["a"])(["\n  query($postId: ID!) {\n    getPost(postId: $postId) {\n      _id\n      title\n      imageUrl\n      categories\n      description\n      likes\n      createdDate\n      messages\n      {\n        _id\n        messageBody\n        messageDate\n        messageUser {\n          _id\n          username\n          avatar\n        }\n      }\n    }\n  }\n"]);return pt=function(){return t},t}function gt(){var t=Object(st["a"])(["\n  query {\n    getPosts {\n      _id\n      title\n      imageUrl\n      createdBy{\n        _id\n        username\n        email\n        password\n        joinDate\n      }\n    }\n  }\n"]);return gt=function(){return t},t}var bt=Object(i["b"])(gt()),yt=Object(i["b"])(pt()),_t=Object(i["b"])(ht()),xt=Object(i["b"])(mt()),wt=Object(i["b"])(vt()),jt=Object(i["b"])(ft()),kt=Object(i["b"])(dt()),Pt=Object(i["b"])(ut()),St=Object(i["b"])(ct()),Vt=Object(i["b"])(lt()),It=Object(i["b"])(it()),Ut=(Object(i["b"])(ot()),Object(i["b"])(nt())),Ct=Object(i["b"])(rt()),$t=Object(i["b"])(at()),Ot=4,Tt={name:"Posts",data:function(){return{pageNum:1,showPostCreator:!1}},apollo:{infiniteScrollPosts:{query:wt,variables:{pageNum:1,pageSize:Ot}}},methods:{goToPost:function(t){this.$router.push("/posts/".concat(t))},formatCreatedDate:function(t){return et()(new Date(t)).format("ll")},showMorePosts:function(){this.pageNum+=1,this.$apollo.queries.infiniteScrollPosts.fetchMore({variables:{pageNum:this.pageNum,pageSize:Ot},updateQuery:function(t,e){var s=e.fetchMoreResult;console.log("previous result",t.infiniteScrollPosts.posts),console.log("fetch more result",s);var a=s.infiniteScrollPosts.posts,r=s.infiniteScrollPosts.hasMore;return{infiniteScrollPosts:{__typename:t.infiniteScrollPosts.__typename,posts:[].concat(Object(X["a"])(t.infiniteScrollPosts.posts),Object(X["a"])(a)),hasMore:r}}}})}},computed:{showMoreEnabled:function(){return this.infiniteScrollPosts&&this.infiniteScrollPosts.hasMore}}},qt=Tt,Dt=(s("a20c"),s("99d9")),Ft=s("12b2"),Lt=s("adda"),Rt=s("c954"),Et=s("0789"),zt=Object(h["a"])(qt,H,K,!1,null,"66469776",null),At=zt.exports;g()(zt,{VBtn:_["a"],VCard:x["a"],VCardActions:Dt["a"],VCardText:Dt["b"],VCardTitle:Ft["a"],VContainer:w["a"],VFlex:G["a"],VIcon:k["a"],VImg:Lt["a"],VLayout:J["a"],VListTile:S["a"],VListTileAction:V["a"],VListTileAvatar:Rt["a"],VListTileContent:I["a"],VListTileSubTitle:I["b"],VListTileTitle:I["c"],VSlideYTransition:Et["d"],VSpacer:$["a"]});var Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.getPost?s("v-container",{attrs:{flexbox:"",center:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card",{attrs:{hover:""}},[s("v-card-title",[s("h1",[t._v(t._s(t.getPost.title))]),t.user?s("v-btn",{attrs:{large:"",icon:"",color:"info2",dark:""},on:{click:t.handleToggleLike}},[s("v-icon",{attrs:{large:"",color:t.checkIfPostLiked(t.getPost._id)?"red":"grey"}},[t._v("favorite")])],1):t._e(),s("h3",{staticClass:"ml-3 font-weight-thin"},[t._v(t._s(t.getPost.likes)+" LIKES")]),s("v-spacer"),s("v-icon",{attrs:{color:"primary3",large:""},on:{click:t.goToPreviousPage}},[t._v("arrow_back")])],1),s("v-tooltip",{attrs:{bottom:""}},[s("span",[t._v("Click to enlarge or bigger image 😤")]),s("v-img",{attrs:{slot:"activator",src:t.getPost.imageUrl,id:"post__image"},on:{click:t.toggleImageDialog},slot:"activator"})],1),s("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-img",{attrs:{src:t.getPost.imageUrl,height:"80vh"},on:{click:function(e){t.dialog=!1}}},[s("v-icon",{staticClass:"cancel",attrs:{large:"",color:"primary3",absolute:""},on:{click:function(e){t.dialog=!1}}},[t._v("cancel")])],1)],1)],1),s("v-card-text",[s("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[s("h2",{staticStyle:{margin:"0 12px 12px 4px"}},[t._v("Categories:")]),t._l(t.getPost.categories,function(e,a){return s("span",{key:a},[s("v-chip",{staticClass:"mb-3",attrs:{color:"#e91e63","text-color":"white"}},[t._v(" "+t._s(e))])],1)})],2),s("v-layout",{attrs:{row:"","align-center":"","fill-height":""}},[s("h2",{staticStyle:{margin:"0 12px 0 4px"}},[t._v("Description:")]),s("h3",[t._v(" "+t._s(t.getPost.description))])])],1)],1)],1)],1),t.user?s("div",{staticClass:"mt-3"},[t.user?s("v-layout",{staticClass:"mb-3"},[s("v-flex",{attrs:{xs12:""}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.handleAddPostMessage(e)}},model:{value:t.isFormValid,callback:function(e){t.isFormValid=e},expression:"isFormValid"}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{staticStyle:{background:"white",padding:"18px 12px"},attrs:{clearable:"","append-outer-icon":t.messageBody&&"send",label:"Add Message",type:"text","prepend-icon":"email",required:"",rules:t.messageRules},on:{"click:append-outer":t.handleAddPostMessage},model:{value:t.messageBody,callback:function(e){t.messageBody=e},expression:"messageBody"}})],1)],1)],1)],1)],1):t._e(),s("v-tooltip",{attrs:{bottom:""}},[s("span",[s("strong",{staticStyle:{color:"blue"}},[t._v("Blue")]),t._v(", it means you comment 🛩 🛫")]),s("v-layout",{attrs:{slot:"activator",row:"",wrap:""},slot:"activator"},[s("v-flex",{attrs:{xs12:""}},[s("v-list",{attrs:{subheader:"","two-line":""}},[s("v-subheader",[t._v("Messages ("+t._s(t.getPost.messages.length)+")")]),t._l(t.getPost.messages,function(e){return[s("v-divider",{key:e._id}),s("v-list-tile",{key:e.title,attrs:{avatar:"",inset:""}},[s("v-list-tile-avatar",[s("img",{attrs:{src:e.messageUser.avatar,alt:e.title}})]),s("v-list-tile-content",[s("v-list-tile-title",[t._v("\n                    "+t._s(e.messageBody)+"\n                  ")]),s("v-list-tile-sub-title",[t._v("\n                    "+t._s(e.messageUser.username)+"\n                    "),s("span",{staticClass:"grey--text text--lighten-1 hidden-xs-only"},[t._v("\n                      "+t._s(t.formatCreatedDate(e.messageDate))+"\n                    ")])])],1),s("v-list-tile-action",{staticClass:"hidden-xs-only"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-icon",{staticStyle:{"margin-right":"12px"},attrs:{color:t.checkIfOwnMessage(e)?"primary3":"grey"}},[t._v("chat_bubble")]),s("v-icon",{staticClass:"cancel1",attrs:{color:"error",absolute:""}},[t._v("cancel")])],1)],1)],1)]})],2)],1)],1)],1)],1):t._e()],1):t._e()},Bt=[],Nt={name:"Post",props:["postId"],data:function(){return{postLiked:!1,dialog:!1,messageBody:"",isFormValid:!0,messageRules:[function(t){return!!t||"Message is requires please !!! 🤫 🤥 🤓"},function(t){return t.length<50||"Message must be less than 50 characters 🛩 🛫 🛬"}]}},apollo:{getPost:{query:yt,variables:function(){return{postId:this.postId}}}},computed:Object(d["a"])({},Object(f["b"])(["user","loading","userFavorites"])),methods:{goToPreviousPage:function(){this.$router.go(-1)},toggleImageDialog:function(){window.innerWidth>500&&(this.dialog=!this.dialog)},formatCreatedDate:function(t){return et()(new Date(t)).fromNow()},checkIfPostLiked:function(t){return this.userFavorites&&this.userFavorites.some(function(e){return e._id===t})?(this.postLiked=!0,!0):(this.postLiked=!1,!1)},handleToggleLike:function(){this.postLiked?this.handleUnlikePost():this.handleLikePost()},checkIfOwnMessage:function(t){return this.user&&this.user._id===t.messageUser._id},handleAddPostMessage:function(){var t=this,e={messageBody:this.messageBody,userId:this.user._id,postId:this.postId};this.$apollo.mutate({mutation:Ut,variables:e,update:function(e,s){var a=s.data.addPostMessage,r=e.readQuery({query:yt,variables:{postId:t.postId}});r.getPost.messages.unshift(a),e.writeQuery({query:yt,variables:{postId:t.postId},data:r}),t.messageBody=""}}).then(function(t){var e=t.data;console.log(e.addPostMessage)}).catch(function(t){return console.error(t)})},handleLikePost:function(){var t=this,e={postId:this.postId,username:this.user.username};this.$apollo.mutate({mutation:Pt,variables:e,update:function(e,s){s.data.likePost;var a=e.readQuery({query:yt,variables:{postId:t.postId}});a.getPost.likes+=1,e.writeQuery({query:yt,variable:{postId:t.postId},data:a})}}).then(function(e){var s=e.data,a=Object(d["a"])({},t.user,{favorites:s.likePost.favorites});t.$store.commit("setUser",a)}).catch(function(t){return console.error(t)})},handleUnlikePost:function(){var t=this,e={postId:this.postId,username:this.user.username};this.$apollo.mutate({mutation:St,variables:e,update:function(e,s){s.data.unlikePost;var a=e.readQuery({query:yt,variables:{postId:t.postId}});a.getPost.likes-=1,e.writeQuery({query:yt,variable:{postId:t.postId},data:a})}}).then(function(e){var s=e.data,a=Object(d["a"])({},t.user,{favorites:s.unlikePost.favorites});t.$store.commit("setUser",a)}).catch(function(t){return console.error(t)})}}},Qt=Nt,Gt=(s("7a16"),s("cc20")),Jt=s("4bd4"),Yt=s("e0c7"),Wt=s("3a2f"),Zt=Object(h["a"])(Qt,Mt,Bt,!1,null,"d7b46914",null),Ht=Zt.exports;g()(Zt,{VBtn:_["a"],VCard:x["a"],VCardText:Dt["b"],VCardTitle:Ft["a"],VChip:Gt["a"],VContainer:w["a"],VDialog:Q["a"],VDivider:j["a"],VFlex:G["a"],VForm:Jt["a"],VIcon:k["a"],VImg:Lt["a"],VLayout:J["a"],VList:P["a"],VListTile:S["a"],VListTileAction:V["a"],VListTileAvatar:Rt["a"],VListTileContent:I["a"],VListTileSubTitle:I["b"],VListTileTitle:I["c"],VSpacer:$["a"],VSubheader:Yt["a"],VTextField:O["a"],VTooltip:Wt["a"]});var Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"text-xs-center":""}},[t.error?s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("form-alert",{attrs:{message:t.error.message}})],1)],1):t._e(),s("v-card",{staticClass:"pa-2",attrs:{color:"info2"}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("h2",[t._v("Add Post Here ⚽️ 🏹 🎗")])])],1),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.handleAddPost(e)}},model:{value:t.isFormValid,callback:function(e){t.isFormValid=e},expression:"isFormValid"}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{rules:t.titleRules,label:"Post Title",type:"text",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{rules:t.imageRules,label:"Image URL",type:"text",required:""},model:{value:t.imageUrl,callback:function(e){t.imageUrl=e},expression:"imageUrl"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("img",{attrs:{src:t.imageUrl,height:"300px"}})])],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{rules:t.categoriesRules,items:["Art","Education","Food","Furniture","Travel","Photography","Technology"],multiple:"",label:"Categories"},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-textarea",{attrs:{rules:t.descRules,label:"Description",type:"text",required:"",counter:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{loading:t.loading,disabled:!t.isFormValid||t.loading,color:"accent",type:"submit"}},[s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1),t._v("\n                Submit")])],1)],1),t._v("`\n\n        ")],1)],1)],1)],1)],1)},Xt=[],te={name:"AddPost",data:function(){return{isFormValid:!0,title:"",imageUrl:"",categories:"",description:"",titleRules:[function(t){return!!t||"Title is required"},function(t){return t.length<20||"Title must have less than 20 characters"}],imageRules:[function(t){return!!t||"Image is required"}],categoriesRules:[function(t){return t.length>=1||"At least one category is required"}],descRules:[function(t){return!!t||"Description is required"},function(t){return t.length<200||"Description must have less than 200 characters"}],questions:{items:["Item 1","Item 2","Item 3","Item 4"]}}},watch:{user:function(t){t&&this.$router.push("/")},loader:function(){var t=this,e=this.loader;this[e]=!this[e],setTimeout(function(){return t[e]=!1},3e3),this.loader=null}},computed:Object(d["a"])({},Object(f["b"])(["error","user","loading"])),methods:{handleAddPost:function(){this.$refs.form.validate()&&(this.$store.dispatch("addPost",{title:this.title,imageUrl:this.imageUrl,categories:this.categories,description:this.description,creatorId:this.user._id}),this.$router.push("/"))}}},ee=te,se=s("b56d"),ae=s("a844"),re=Object(h["a"])(ee,Kt,Xt,!1,null,"a8fd7cb4",null),ne=re.exports;g()(re,{VBtn:_["a"],VCard:x["a"],VContainer:w["a"],VFlex:G["a"],VForm:Jt["a"],VIcon:k["a"],VLayout:J["a"],VSelect:se["a"],VTextField:O["a"],VTextarea:ae["a"]});var oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"grid-list-xs":"","text-center":""}},[s("h2",[t._v("Undefined!!! Not thing here wrong 😛 😪")])])},ie=[],le={name:"Undefined"},ce=le,ue=Object(h["a"])(ce,oe,ie,!1,null,"2552e1c2",null),de=ue.exports;g()(ue,{VContainer:w["a"]});var fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"text-xs-center"},[s("v-flex",{attrs:{sm6:"","offset-sm3":""}},[s("v-card",{staticClass:"white--text",attrs:{color:"secondary"}},[s("v-layout",[s("v-flex",{attrs:{xs5:""}},[s("v-img",{attrs:{height:"125px",contain:"",src:t.user.avatar}})],1),s("v-flex",{attrs:{xs7:""}},[s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("div",{staticClass:"headline"},[t._v(t._s(t.user.username))]),s("div",[t._v("Joined "+t._s(t.formatJoinDate(t.user.joinDate)))]),s("div",{staticClass:"hidden-xs-only font-weight-thin"},[s("strong",[t._v(t._s(t.user.favorites.length)+" ")]),t._v("   Favorites")]),s("div",{staticClass:"hidden-xs-only font-weight-thin"},[s("strong",[t._v(t._s(t.userPosts.length)+" ")]),t._v(" Posts Added")])])])],1)],1)],1)],1),t.userFavorites.length?s("v-container",{staticClass:"mt-3"},[s("v-flex",{attrs:{xs12:""}},[s("h2",{staticClass:"font-weight-light"},[t._v("Favorited\n        "),s("span",{staticClass:"font-weight-regular"},[t._v("("+t._s(t.userFavorites.length)+")")])])]),s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.userFavorites,function(e){return s("v-flex",{key:e._id,attrs:{xs12:"",sm6:""}},[s("v-card",{staticClass:"mt-3 ml-1 mr-2",attrs:{hover:""}},[s("v-img",{attrs:{height:"40vh",src:e.imageUrl},on:{click:function(s){return t.goToPost(e._id)}}}),s("v-card-text",[s("strong",[t._v(t._s(e.title))])])],1)],1)}),1)],1):s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h2",[t._v("You have no favorites currently. Go and add some!")])])],1)],1),t.userPosts.length?s("v-container",{staticClass:"mt-3"},[s("v-flex",{attrs:{xs12:""}},[s("h2",{staticClass:"font-weight-light"},[t._v("Your Posts\n        "),s("span",{staticClass:"font-weight-regular"},[t._v("("+t._s(t.userPosts.length)+")")])])]),s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.userPosts,function(e){return s("v-flex",{key:e._id,attrs:{xs12:"",sm6:""}},[s("v-card",{staticClass:"mt-3 ml-1 mr-2",attrs:{hover:""}},[s("v-btn",{attrs:{color:"info",floating:"",fab:"",small:"",dark:""},on:{click:function(s){return t.loadPost(e)}}},[s("v-icon",[t._v("edit")])],1),s("v-btn",{attrs:{color:"error",floating:"",fab:"",small:"",dark:""},on:{click:function(s){return t.handleDeleteUserPost(e)}}},[s("v-icon",[t._v("delete")])],1),s("v-img",{attrs:{height:"40vh",src:e.imageUrl},on:{click:function(s){return t.goToPost(e._id)}}}),s("v-card-text",[s("strong",[t._v(t._s(e.title))])])],1)],1)}),1)],1):s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h2",[t._v("You have no posts currently. Go and add some!")])])],1)],1),s("v-dialog",{attrs:{xs12:"",sm6:"","offset-sm3":"",persistent:""},model:{value:t.editPostDialog,callback:function(e){t.editPostDialog=e},expression:"editPostDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline primary2 lighten-2"},[t._v("Update Post")]),s("v-container",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.handleUpdateUserPost(e)}},model:{value:t.isFormValid,callback:function(e){t.isFormValid=e},expression:"isFormValid"}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{rules:t.titleRules,label:"Post Title",type:"text",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{rules:t.imageRules,label:"Image URL",type:"text",required:""},model:{value:t.imageUrl,callback:function(e){t.imageUrl=e},expression:"imageUrl"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("img",{attrs:{src:t.imageUrl,height:"300px"}})])],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{rules:t.categoriesRules,items:["Art","Education","Food","Furniture","Travel","Photography","Technology"],multiple:"",label:"Categories"},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-textarea",{attrs:{rules:t.descRules,label:"Description",type:"text",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"success--text",attrs:{disabled:!t.isFormValid,type:"submit",flat:""}},[s("v-icon",[t._v("system_update")]),t._v("\n              Update")],1),s("v-btn",{staticClass:"error--text",attrs:{flat:""},on:{click:function(e){t.editPostDialog=!1}}},[s("v-icon",[t._v("cancel")]),t._v("\n              Cancel")],1)],1)],1)],1)],1)],1)],1)},ve=[],me={name:"Profile",data:function(){return{editPostDialog:!1,isFormValid:!0,title:"",imageUrl:"",categories:[],description:"",titleRules:[function(t){return!!t||"Title Profile is Required 🤗 ✍️"},function(t){return t.length<20||"Title must has less than 20 characters 👌 ✌️"}],imageRules:[function(t){return!!t||"Image is required"}],categoriesRules:[function(t){return t.length>=1||"At least 1 categories is choosen 👐 🙌"}],descRules:[function(t){return!!t||"Description is required 👏 🤝"},function(t){return t.length<200||"Description must have less than 200 characters 🤛 🖖"}]}},computed:Object(d["a"])({},Object(f["b"])(["user","userFavorites","userPosts"])),created:function(){this.handleGetUserPosts()},methods:{goToPost:function(t){this.$router.push("/posts/".concat(t))},formatJoinDate:function(t){return et()(new Date(t)).format("ll")},handleGetUserPosts:function(){this.$store.dispatch("getUserPosts",{userId:this.user._id})},handleUpdateUserPost:function(){this.$refs.form.validate()&&(this.$store.dispatch("updateUserPost",{postId:this.postId,userId:this.user._id,title:this.title,imageUrl:this.imageUrl,categories:this.categories,description:this.description}),this.editPostDialog=!1)},handleDeleteUserPost:function(t){this.loadPost(t,!1);var e=window.confirm("Are you sure you want to delete this post? 👌 😒");e&&this.$store.dispatch("deleteUserPost",{postId:this.postId})},loadPost:function(t){var e=t._id,s=t.title,a=t.imageUrl,r=t.categories,n=t.description,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.editPostDialog=o,this.postId=e,this.title=s,this.imageUrl=a,this.categories=r,this.description=n}}},he=me,pe=(s("52c0"),Object(h["a"])(he,fe,ve,!1,null,"747510e8",null)),ge=pe.exports;g()(pe,{VBtn:_["a"],VCard:x["a"],VCardActions:Dt["a"],VCardText:Dt["b"],VCardTitle:Ft["a"],VContainer:w["a"],VDialog:Q["a"],VDivider:j["a"],VFlex:G["a"],VForm:Jt["a"],VIcon:k["a"],VImg:Lt["a"],VLayout:J["a"],VSelect:se["a"],VSpacer:$["a"],VTextField:O["a"],VTextarea:ae["a"]});var be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("h2",{staticStyle:{color:"whitesmoke",margin:"16px"}},[t._v("Welcome Back! 🙀 🤟 😎")])])],1),t.error?s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("form-alert",{attrs:{message:t.error.message.replace("GraphQL error:","")}})],1)],1):t._e(),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-card",{attrs:{color:"secondary",dark:"",round:""}},[s("v-container",{staticStyle:{"margin-top":"12px"}},[s("h2",{staticStyle:{margin:"0"}},[t._v("\n          Sign In 🚪\n        ")]),s("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.handleSigninUser(e)}},model:{value:t.isFormValdid,callback:function(e){t.isFormValdid=e},expression:"isFormValdid"}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"email",rules:[t.rules.emailReq,t.rules.email],label:"Email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"extension",rules:[t.rules.passReq,t.rules.min],label:"Password",required:"","append-icon":t.show1?"visibility_off":"visibility",counter:"",type:t.show1?"text":"password"},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{color:"accent",type:"submit",loading:t.loading,disabled:!t.isFormValdid||t.loading},on:{click:function(e){t.loader=t.loading}}},[t._v("Sign In\n                  "),s("span",{staticClass:"custom-loader",staticStyle:{fill:"black"},attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{"darken-1":""}},[t._v("cached")])],1)]),s("h3",[t._v("Don't have an account 👺?\n                  "),s("router-link",{staticStyle:{color:"white"},attrs:{to:"/signUp"}},[t._v("Sign Up")])],1),s("h3",[t._v("Reset Password or Forgot Password 👺?\n                  "),s("router-link",{staticStyle:{color:"white"},attrs:{to:"/signUp"}},[t._v("Reset Password")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},ye=[],_e={name:"SignIn",data:function(){return{email:"",password:"",loader:null,isFormValdid:!0,show1:!1,rules:{emailReq:function(t){return!!t||"Email is required 😼"},passReq:function(t){return!!t||"Password is required 🤕"},min:function(t){return t.length>=8||"Minimum password must be at least 8 characters ✌️ "},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail. 📦"}}}},components:{},computed:Object(d["a"])({},Object(f["b"])(["user","error","loading"])),watch:{user:function(t){t&&this.$router.push("/")},loader:function(){var t=this,e=this.loader;this[e]=!this[e],setTimeout(function(){return t[e]=!1},3e3),this.loader=null}},methods:{handleSigninUser:function(){this.$refs.form.validate()&&this.$store.dispatch("signinUser",{email:this.email,password:this.password})}}},xe=_e,we=(s("507d"),Object(h["a"])(xe,be,ye,!1,null,"b3a11646",null)),je=we.exports;g()(we,{VBtn:_["a"],VCard:x["a"],VContainer:w["a"],VFlex:G["a"],VForm:Jt["a"],VIcon:k["a"],VLayout:J["a"],VTextField:O["a"]});var ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("h2",{staticStyle:{margin:"16px"}},[t._v("Welcome welcome! 🦇 🗼 ⚔️")])])],1),t.error?s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("form-alert",{attrs:{message:t.error.message.replace("GraphQL error:",""),type:"error"}})],1)],1):t._e(),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-card",{attrs:{color:"secondary",dark:""}},[s("v-container",{staticStyle:{"margin-top":"12px"}},[s("h2",{staticStyle:{margin:"0"}},[t._v("Sign up, let do some boring Form")]),s("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.handleSignupUser(e)}},model:{value:t.isFormValid,callback:function(e){t.isFormValid=e},expression:"isFormValid"}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"face",label:"Username",type:"text",required:"",rules:[t.rules.userReq1,t.rules.min2]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"email",label:"Email",type:"text",required:"",rules:[t.rules.emailReq,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"extension",label:"Password",type:t.show1?"text":"password",required:"",rules:[t.rules.passReq,t.rules.min],"append-icon":t.show1?"visibility_off":"visibility",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"touch_app",label:"Confirm Password",rules:[t.rules.match],type:t.show2?"text":"password",required:"","append-icon":t.show2?"visibility_off":"visibility",counter:""},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}})],1)],1),s("v-divider"),s("v-layout",{attrs:{row:"","ma-2":""}},[s("v-flex",{attrs:{xs12:""}},[s("v-select",t._b({attrs:{color:"primary",dark:"",label:"What the hex? Account Recovery Questions * ",solo:""}},"v-select",t.questions,!1))],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"prepend-icon":"flight_land",label:"Question Answer",type:"text"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{"prepend-icon":"submit",color:"accent",label:"Password",type:"submit",required:"",loading:t.loading,disabled:!t.isFormValid||t.loading},on:{click:function(e){t.loader=t.loading}}},[t._v("Sign Up\n                  "),s("span",{staticClass:"custom-loader",staticStyle:{fill:"black"},attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{"darken-1":""}},[t._v("cached")])],1)]),s("h3",[t._v("Already have an account 💪?\n                  "),s("router-link",{staticStyle:{color:"white"},attrs:{color:"accent",to:"/signIn"}},[t._v("Sign Up")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},Pe=[],Se={name:"SignUp",data:function(){var t=this;return{email:"",username:"",password:"",password2:"",isFormValid:!0,show1:!1,show2:!1,authSnackbar1:!1,rules:{emailReq:function(t){return!!t||"Email is required 😼"},userReq1:function(t){return!!t||"Username is required 😼"},min2:function(t){return t.length>=4||"Minimum username must be at least 4 characters ✌️ "},passReq:function(t){return!!t||"Password is required 🤕"},min:function(t){return t.length>=8||"Minimum password must be at least 8 characters ✌️ "},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail. 📦"},match:function(){return t.password===t.password2||"Password must Match 🛠 ⚙️"}},questions:{items:["Item 1","Item 2","Item 3","Item 4"]}}},watch:{user:function(t){t&&this.$router.push("/")},loader:function(){var t=this,e=this.loader;this[e]=!this[e],setTimeout(function(){return t[e]=!1},3e3),this.loader=null}},computed:Object(d["a"])({},Object(f["b"])(["error","user","loading"])),methods:{handleSignupUser:function(){this.$refs.form.validate()&&this.$store.dispatch("signupUser",{username:this.username,email:this.email,password:this.password})}}},Ve=Se,Ie=(s("1b5b"),Object(h["a"])(Ve,ke,Pe,!1,null,"92d7f354",null)),Ue=Ie.exports;g()(Ie,{VBtn:_["a"],VCard:x["a"],VContainer:w["a"],VDivider:j["a"],VFlex:G["a"],VForm:Jt["a"],VIcon:k["a"],VLayout:J["a"],VSelect:se["a"],VTextField:O["a"]});s("96cf");var Ce=s("3b8d");s("20d6");n["a"].use(f["a"]);var $e=new f["a"].Store({state:{posts:[],user:null,loading:!1,error:null,authError:null,searchResults:[],userPosts:[]},mutations:{setPosts:function(t,e){t.posts=e},setUser:function(t,e){t.user=e},setUserPosts:function(t,e){t.userPosts=e},setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},setAuthError:function(t,e){t.authError=e},setSearchResults:function(t,e){null!==e&&(t.searchResults=e)},clearUser:function(t){return t.user=null},clearError:function(t){return t.error=null},clearSearchResults:function(t){return t.searchResults=[]}},actions:{getCurrentUser:function(t){var e=t.commit;e("setLoading",!0),Ae.query({query:_t}).then(function(t){var s=t.data;e("setLoading",!1),e("setUser",s.getCurrentUser),console.log(s.getCurrentUser)}).catch(function(t){e("setLoading",!1),console.error(t)})},getPosts:function(t){var e=t.commit;e("setLoading",!0),Ae.query({query:bt}).then(function(t){var s=t.data;e("setPosts",s.getPosts),e("setLoading",!1)}).catch(function(t){e("setLoading",!1),console.error(t)})},getUserPosts:function(t,e){var s=t.commit;Ae.query({query:xt,variables:e}).then(function(t){var e=t.data;s("setUserPosts",e.getUserPosts)}).catch(function(t){console.error(t)})},updateUserPost:function(t,e){var s=t.state,a=t.commit;Ae.mutate({mutation:Vt,variables:e}).then(function(t){var e=t.data,r=s.userPosts.findIndex(function(t){return t._id===e.updateUserPost._id}),n=[].concat(Object(X["a"])(s.userPosts.slice(0,r)),[e.updateUserPost],Object(X["a"])(s.userPosts.slice(r+1)));a("setUserPosts",n)}).catch(function(t){console.error(t)})},deleteUserPost:function(t,e){var s=t.state,a=t.commit;Ae.mutate({mutation:It,variables:e}).then(function(t){var e=t.data,r=s.userPosts.findIndex(function(t){return t._id===e.deleteUserPost._id}),n=[].concat(Object(X["a"])(s.userPosts.slice(0,r)),Object(X["a"])(s.userPosts.slice(r+1)));a("setUserPosts",n)}).catch(function(t){console.error(t)})},searchPosts:function(t,e){var s=t.commit;Ae.query({query:jt,variables:e}).then(function(t){var e=t.data;s("setSearchResults",e.searchPosts)}).catch(function(t){return console.error(t)})},addPost:function(t,e){t.commit;Ae.mutate({mutation:kt,variables:e,update:function(t,e){var s=e.data.addPost,a=t.readQuery({query:bt});a.getPosts.unshift(s),console.log(a.getPosts),t.writeQuery({query:bt,data:a})},optimisticResponse:{__typesnames:"Mutation",addPost:Object(d["a"])({__typename:"Post",_id:-1},e)},refetchQueries:[{query:wt,variables:{pageNum:1,pageSize:2}}]}).then(function(t){var e=t.data;console.log(e.addPost)}).catch(function(t){console.error(t)})},signinUser:function(t,e){var s=t.commit;s("clearError"),localStorage.setItem("token",""),s("setLoading",!0),Ae.mutate({mutation:Ct,variables:e}).then(function(t){var e=t.data;s("setLoading",!1),localStorage.setItem("token",e.signinUser.token),Te.go()}).catch(function(t){s("setLoading",!1),s("setError",t),console.error(t)})},signupUser:function(t,e){var s=t.commit;s("clearError"),s("setLoading",!0),Ae.mutate({mutation:$t,variables:e}).then(function(t){var e=t.data;s("setLoading",!1),localStorage.setItem("token",e.signupUser.token),Te.go()}).catch(function(t){s("setLoading",!1),s("setError",t),console.error(t)})},signoutUser:function(){var t=Object(Ce["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,s("clearUser"),localStorage.removeItem("token",""),t.next=5,Ae.resetStore();case 5:Te.push("/");case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},getters:{posts:function(t){return t.posts},user:function(t){return t.user},userPosts:function(t){return t.userPosts},loading:function(t){return t.loading},error:function(t){return t.error},authError:function(t){return t.authError},userFavorites:function(t){return t.user&&t.user.favorites},searchResults:function(t){return t.searchResults}}}),Oe=function(t,e,s){$e.getters.user?s():s({path:"/signin"})};n["a"].use(R["a"]);var Te=new R["a"]({mode:"history",routes:[{path:"/",name:"home",component:Z},{path:"/signIn",name:"signIn",component:je},{path:"/signUp",name:"signUp",component:Ue},{path:"/profile",name:"Profile",component:ge,beforeEnter:Oe},{path:"/posts/undefined",name:"Undefined",component:de,beforeEnter:Oe},{path:"/posts/:postId",name:"Post",component:Ht,props:!0},{path:"/posts",name:"posts",component:At},{path:"/post/addPost",name:"AddPost",component:ne,beforeEnter:Oe}]}),qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-alert",{attrs:{type:"error",color:"error",icon:"warning",value:!0,dismissible:"",transition:"scale-transition"}},[s("h3",[t._v(t._s(t.message))])])},De=[],Fe={name:"FormAlert",props:["message"]},Le=Fe,Re=s("0798"),Ee=Object(h["a"])(Le,qe,De,!1,null,"03b03500",null),ze=Ee.exports;g()(Ee,{VAlert:Re["a"]}),s.d(e,"defaultClient",function(){return Ae}),n["a"].component("form-alert",ze),n["a"].use(l["a"]);var Ae=new i["a"]({uri:"https://graphql-apolloserve.herokuapp.com",fetchOptions:{credentials:"include"},request:function(t){localStorage.token||localStorage.setItem("token",""),t.setContext({headers:{authorization:localStorage.getItem("token")}})},onError:function(t){var e=t.graphQLErrors,s=t.networkError;if(s&&console.log("[networkError]",s),e){var a=!0,n=!1,o=void 0;try{for(var i,l=r()(e);!(a=(i=l.next()).done);a=!0){var c=i.value;console.dir(c),"AuthenticationError"===c.name&&($e.commit("setAuthError",c),$e.dispatch("signoutUser"))}}catch(c){n=!0,o=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}}}}),Me=new l["a"]({defaultClient:Ae});n["a"].config.productionTip=!1,new n["a"]({apolloProvider:Me,router:Te,store:$e,render:function(t){return t(L)},created:function(){this.$store.dispatch("getCurrentUser")}}).$mount("#app")},"7a16":function(t,e,s){"use strict";var a=s("81e1"),r=s.n(a);r.a},"81e1":function(t,e,s){},"83c1":function(t,e,s){},"8b71":function(t,e,s){"use strict";var a=s("d944"),r=s.n(a);r.a},a20c:function(t,e,s){"use strict";var a=s("ec19"),r=s.n(a);r.a},b0d0:function(t,e,s){"use strict";var a=s("83c1"),r=s.n(a);r.a},d944:function(t,e,s){},ec19:function(t,e,s){},fa99:function(t,e,s){}});
//# sourceMappingURL=app.849516b8.js.map